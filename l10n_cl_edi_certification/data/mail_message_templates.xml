<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <!-- ============================================ -->
        <!-- Templates para Proyecto de Certificaci√≥n    -->
        <!-- ============================================ -->

        <record id="message_project_started" model="mail.template">
            <field name="name">Certificaci√≥n: Proyecto Iniciado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> Proyecto iniciado
                        <br/><br/>
                        <strong>Informaci√≥n del proyecto:</strong>
                        <ul>
                            <li>Cliente: <t t-out="object.partner_id.name or ''"/></li>
                            <li>Casos de prueba: <t t-out="object.cases_total_count or 0"/></li>
                            <li>Tipos de documento: <t t-out="len(object.folio_assignment_ids) or 0"/></li>
                        </ul>
                        El proyecto est√° listo para generar documentos.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_validating" model="mail.template">
            <field name="name">Certificaci√≥n: Proyecto En Validaci√≥n</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #ffc107;">‚ö†</span> Proyecto en proceso de validaci√≥n ante SII
                        <br/><br/>
                        <strong>Estad√≠sticas:</strong>
                        <ul>
                            <li>Documentos generados: <t t-out="object.documents_total_count or 0"/></li>
                            <li>Casos validados: <t t-out="object.cases_validated_count or 0"/> / <t t-out="object.cases_total_count or 0"/></li>
                        </ul>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_completed" model="mail.template">
            <field name="name">Certificaci√≥n: Proyecto Completado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745; font-size: 20px;">üéâ</span> <strong>Proyecto completado exitosamente</strong>
                        <br/><br/>
                        <strong>Resumen final:</strong>
                        <ul>
                            <li>Total casos: <t t-out="object.cases_total_count or 0"/></li>
                            <li>Casos aceptados: <t t-out="object.cases_accepted_count or 0"/></li>
                            <li>Progreso: <t t-out="object.progress_percentage or 0"/>%</li>
                            <li>Fecha completado: <t t-out="object.completion_date or ''"/></li>
                        </ul>
                        ¬°Felicidades! El cliente est√° certificado para facturaci√≥n electr√≥nica ante el SII.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_back_to_progress" model="mail.template">
            <field name="name">Certificaci√≥n: Regresado a En Progreso</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #007bff;">‚Ü∂</span> Proyecto regresado a En Progreso
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_cancelled" model="mail.template">
            <field name="name">Certificaci√≥n: Proyecto Cancelado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #dc3545;">‚úó</span> Proyecto cancelado
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_back_to_draft" model="mail.template">
            <field name="name">Certificaci√≥n: Regresado a Borrador</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #6c757d;">‚Ü∂</span> Proyecto regresado a Borrador
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_testset_imported" model="mail.template">
            <field name="name">Certificaci√≥n: SET B√ÅSICO Importado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚ö°</span> <strong>SET B√ÅSICO importado exitosamente</strong>
                        <br/><br/>
                        Se crearon <strong><t t-out="ctx.get('cases_count', 0)"/></strong> casos de prueba:
                        <ul t-if="ctx.get('cases_names')">
                            <t t-foreach="ctx.get('cases_names', [])" t-as="case_name">
                                <li><t t-out="case_name or ''"/></li>
                            </t>
                        </ul>
                        Los casos est√°n listos para ser configurados y generados.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_project_sii_testset_imported" model="mail.template">
            <field name="name">Certificaci√≥n: Set de Pruebas SII Importado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_project"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; border-left: 4px solid #28a745; padding: 16px; border-radius: 4px;">
                    <div style="margin-bottom: 12px;">
                        <span style="font-size: 24px;">üì¶</span>
                        <strong style="font-size: 15px; color: #212529;"> Set de Pruebas SII Importado Exitosamente</strong>
                    </div>

                    <div style="background-color: white; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                        <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                            <tr>
                                <td style="padding: 6px 0; color: #6c757d; width: 140px;"><strong>üìã N√∫mero de Atenci√≥n:</strong></td>
                                <td style="padding: 6px 0; color: #212529;"><span style="background-color: #e7f3ff; padding: 4px 8px; border-radius: 3px; font-family: monospace;"><t t-out="ctx.get('attention_number', 'N/A')"/></span></td>
                            </tr>
                            <tr>
                                <td style="padding: 6px 0; color: #6c757d;"><strong>üìù Casos Importados:</strong></td>
                                <td style="padding: 6px 0; color: #212529;"><span style="background-color: #d4edda; padding: 4px 8px; border-radius: 3px; font-weight: 600;"><t t-out="ctx.get('cases_count', 0)"/></span></td>
                            </tr>
                            <tr t-if="ctx.get('books_count', 0) > 0">
                                <td style="padding: 6px 0; color: #6c757d;"><strong>üìö Libros Creados:</strong></td>
                                <td style="padding: 6px 0; color: #212529;"><span style="background-color: #fff3cd; padding: 4px 8px; border-radius: 3px; font-weight: 600;"><t t-out="ctx.get('books_count', 0)"/></span></td>
                            </tr>
                        </table>
                    </div>

                    <!-- Casos Creados -->
                    <t t-if="ctx.get('cases_names')">
                        <div style="background-color: white; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                            <div style="color: #495057; font-weight: 600; margin-bottom: 8px; font-size: 13px;">
                                <span style="color: #28a745;">‚úì</span> Casos de Prueba:
                            </div>
                            <div style="max-height: 200px; overflow-y: auto;">
                                <table style="width: 100%; font-size: 12px;">
                                    <t t-foreach="ctx.get('cases_names', [])" t-as="case_name">
                                        <tr>
                                            <td style="padding: 4px 0; color: #6c757d;">
                                                <span style="color: #28a745; margin-right: 6px;">‚óè</span>
                                                <span style="color: #212529;"><t t-out="case_name or ''"/></span>
                                            </td>
                                        </tr>
                                    </t>
                                </table>
                            </div>
                        </div>
                    </t>

                    <!-- Libros Creados -->
                    <t t-if="ctx.get('books_names')">
                        <div style="background-color: white; padding: 12px; border-radius: 4px; margin-bottom: 12px;">
                            <div style="color: #495057; font-weight: 600; margin-bottom: 8px; font-size: 13px;">
                                <span style="color: #ffc107;">üìñ</span> Libros de Compra/Venta:
                            </div>
                            <table style="width: 100%; font-size: 12px;">
                                <t t-foreach="ctx.get('books_names', [])" t-as="book_info">
                                    <tr>
                                        <td style="padding: 4px 0; color: #6c757d;">
                                            <t t-if="book_info.get('type') == 'sale'">
                                                <span style="background-color: #d1ecf1; color: #0c5460; padding: 2px 6px; border-radius: 3px; font-size: 10px; font-weight: 600; margin-right: 6px;">VENTAS</span>
                                            </t>
                                            <t t-if="book_info.get('type') == 'purchase'">
                                                <span style="background-color: #f8d7da; color: #721c24; padding: 2px 6px; border-radius: 3px; font-size: 10px; font-weight: 600; margin-right: 6px;">COMPRAS</span>
                                            </t>
                                            <span style="color: #212529;"><t t-out="book_info.get('name', '')"/></span>
                                            <t t-if="book_info.get('lines_count', 0) > 0">
                                                <span style="color: #6c757d; margin-left: 8px;">(<t t-out="book_info.get('lines_count', 0)"/> l√≠neas)</span>
                                            </t>
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </div>
                    </t>

                    <!-- Footer -->
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #dee2e6; font-size: 12px; color: #6c757d;">
                        <span style="color: #28a745;">‚úì</span> Los casos y libros est√°n listos para ser procesados.
                    </div>
                </div>
            </field>
        </record>

        <!-- ============================================ -->
        <!-- Templates para Libro de Compra/Venta       -->
        <!-- ============================================ -->

        <record id="message_book_generated" model="mail.template">
            <field name="name">Certificaci√≥n: Libro Generado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> <strong>Libro generado exitosamente</strong>
                        <br/><br/>
                        <ul>
                            <li>L√≠neas procesadas: <strong><t t-out="ctx.get('lines_count', 0)"/></strong></li>
                            <li>Tipo: <t t-if="object.book_type == 'sale'">Libro de Ventas</t><t t-if="object.book_type == 'purchase'">Libro de Compras</t></li>
                        </ul>
                        El XML est√° listo para ser firmado.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_signed" model="mail.template">
            <field name="name">Certificaci√≥n: Libro Firmado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">üîí</span> <strong>Libro firmado digitalmente</strong>
                        <br/><br/>
                        El libro ha sido firmado con certificado digital y est√° listo para validaci√≥n XSD.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_xsd_validated_no_schema" model="mail.template">
            <field name="name">Certificaci√≥n: Libro Validado (Sin XSD)</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #ffc107;">‚ö†</span> XML validado (XSD no disponible)
                        <br/><br/>
                        El XML est√° bien formado pero no se pudo validar contra esquema XSD porque no est√° disponible.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_xsd_validated_success" model="mail.template">
            <field name="name">Certificaci√≥n: Libro Validado XSD</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úÖ</span> <strong>XML validado exitosamente con XSD del SII</strong>
                        <br/><br/>
                        El libro cumple con todas las especificaciones t√©cnicas del SII y est√° listo para ser enviado.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_xsd_validation_errors" model="mail.template">
            <field name="name">Certificaci√≥n: Libro con Errores XSD</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #dc3545;">‚ùå</span> <strong>Errores de validaci√≥n XSD</strong>
                        <br/><br/>
                        <strong>Errores encontrados:</strong>
                        <pre style="background-color: #f8d7da; padding: 10px; border-radius: 4px; font-size: 11px; overflow-x: auto;"><t t-out="ctx.get('error_text', 'Error desconocido')"/></pre>
                        Por favor, corrija los errores antes de enviar al SII.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_sent_to_sii" model="mail.template">
            <field name="name">Certificaci√≥n: Libro Enviado al SII</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #17a2b8;">üì§</span> <strong>Libro enviado al SII</strong>
                        <br/><br/>
                        <ul>
                            <li>Track ID: <code style="background-color: #e7f3ff; padding: 2px 6px; border-radius: 3px;"><t t-out="ctx.get('track_id', 'N/A')"/></code></li>
                        </ul>
                        Esperando respuesta del SII...
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_status_updated" model="mail.template">
            <field name="name">Certificaci√≥n: Estado del Libro Actualizado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #17a2b8;">üîÑ</span> <strong>Estado actualizado desde el SII</strong>
                        <br/><br/>
                        Estado: <strong><t t-out="ctx.get('status_msg', 'N/A')"/></strong>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_back_to_draft" model="mail.template">
            <field name="name">Certificaci√≥n: Libro Regresado a Borrador</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #6c757d;">‚Ü∂</span> <strong>Libro regresado a borrador</strong>
                        <br/><br/>
                        XMLs, datos de env√≠o y validaci√≥n XSD limpiados. El libro est√° listo para ser regenerado.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_book_documents_imported" model="mail.template">
            <field name="name">Certificaci√≥n: Documentos Importados al Libro</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_book"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">üì•</span> <strong>Documentos importados desde el proyecto</strong>
                        <br/><br/>
                        Se importaron <strong><t t-out="ctx.get('imported_count', 0)"/></strong> documentos generados al libro de ventas.
                    </p>
                </div>
            </field>
        </record>

        <!-- ============================================ -->
        <!-- Templates para Sobre (Envelope)             -->
        <!-- ============================================ -->

        <record id="message_envelope_created" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Creado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">üì¶</span> <strong>Sobre creado</strong>
                        <br/><br/>
                        Documentos incluidos: <strong><t t-out="ctx.get('documents_count', 0)"/></strong>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_signed" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Firmado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">üîí</span> <strong>Sobre firmado digitalmente</strong>
                        <br/><br/>
                        El sobre ha sido firmado y est√° listo para validaci√≥n.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_validated" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Validado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úÖ</span> <strong>Sobre validado correctamente</strong>
                        <br/><br/>
                        El sobre cumple con las especificaciones y est√° listo para ser enviado al SII.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_sent" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Enviado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #17a2b8;">üì§</span> <strong>Sobre enviado al SII</strong>
                        <br/><br/>
                        Track ID: <code style="background-color: #e7f3ff; padding: 2px 6px; border-radius: 3px;"><t t-out="ctx.get('track_id', 'N/A')"/></code>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_accepted" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Aceptado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #d4edda; border-left: 4px solid #28a745; padding: 12px; border-radius: 4px;">
                    <p style="margin: 0px; padding: 0px; font-size: 14px;">
                        <span style="font-size: 24px;">üéâ</span> <strong style="color: #155724;">¬°Sobre aceptado por el SII!</strong>
                        <br/><br/>
                        <span style="color: #155724;">Todos los documentos del sobre fueron aceptados exitosamente.</span>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_rejected" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Rechazado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #f8d7da; border-left: 4px solid #dc3545; padding: 12px; border-radius: 4px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #dc3545;">‚ùå</span> <strong style="color: #721c24;">Sobre rechazado por el SII</strong>
                        <br/><br/>
                        <span style="color: #721c24;">Revise los mensajes de error en la pesta√±a de respuestas SII.</span>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_with_repairs" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre con Reparos</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 12px; border-radius: 4px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #856404;">‚ö†</span> <strong style="color: #856404;">Sobre con reparos</strong>
                        <br/><br/>
                        <span style="color: #856404;">Revise los mensajes del SII para corregir los reparos detectados.</span>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_status_received" model="mail.template">
            <field name="name">Certificaci√≥n: Sobre Recibido por SII</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #17a2b8;">üì®</span> <strong>Sobre recibido por el SII</strong>
                        <br/><br/>
                        Estado: <strong><t t-out="ctx.get('status', 'N/A')"/></strong><br/>
                        Esperando validaci√≥n...
                    </p>
                </div>
            </field>
        </record>

        <record id="message_envelope_status_updated" model="mail.template">
            <field name="name">Certificaci√≥n: Estado del Sobre Actualizado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_envelope"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #17a2b8;">üîÑ</span> Estado actual: <strong><t t-out="ctx.get('status', 'N/A')"/></strong>
                    </p>
                </div>
            </field>
        </record>

        <!-- ============================================ -->
        <!-- Templates para Documento Generado           -->
        <!-- ============================================ -->

        <record id="message_document_validated" model="mail.template">
            <field name="name">Certificaci√≥n: Documento Validado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_generated_document"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úÖ</span> <strong>Documento validado correctamente</strong>
                        <br/><br/>
                        El DTE cumple con todos los requisitos del SII.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_document_signed" model="mail.template">
            <field name="name">Certificaci√≥n: Documento Firmado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_generated_document"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">üîí</span> <strong>Documento firmado digitalmente</strong>
                        <br/><br/>
                        Certificado de: <code style="background-color: #e7f3ff; padding: 2px 6px; border-radius: 3px;"><t t-out="ctx.get('cert_subject', 'N/A')"/></code>
                    </p>
                </div>
            </field>
        </record>

        <!-- ============================================ -->
        <!-- Templates para Respuesta SII                -->
        <!-- ============================================ -->

        <record id="message_sii_response_parsed" model="mail.template">
            <field name="name">Certificaci√≥n: Respuesta SII Parseada</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_sii_response"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> Respuesta parseada correctamente
                    </p>
                </div>
            </field>
        </record>

        <record id="message_sii_response_parse_error" model="mail.template">
            <field name="name">Certificaci√≥n: Error al Parsear Respuesta SII</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_sii_response"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #dc3545;">‚ùå</span> <strong>Error al parsear respuesta</strong>
                        <br/><br/>
                        Error: <code style="background-color: #f8d7da; padding: 2px 6px; border-radius: 3px;"><t t-out="ctx.get('error', 'Error desconocido')"/></code>
                    </p>
                </div>
            </field>
        </record>

        <!-- ============================================ -->
        <!-- Templates para Caso de Prueba               -->
        <!-- ============================================ -->

        <record id="message_case_prepared" model="mail.template">
            <field name="name">Certificaci√≥n: Caso Preparado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_case"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> Caso preparado para generaci√≥n
                        <br/><br/>
                        <strong>Informaci√≥n del caso:</strong>
                        <ul>
                            <li>C√≥digo: <t t-out="object.code or ''"/></li>
                            <li>Tipo: <t t-out="object.document_type_id.name or ''"/></li>
                            <li>L√≠neas: <t t-out="len(object.line_ids) or 0"/></li>
                            <li>Total: <t t-out="format_amount(object.total_amount, object.currency_id) or ''"/></li>
                        </ul>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_case_generated" model="mail.template">
            <field name="name">Certificaci√≥n: DTE Generado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_case"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> <strong>Documento DTE generado</strong>
                        <br/><br/>
                        <ul>
                            <li>Folio asignado: <strong><t t-out="ctx.get('folio', 'N/A')"/></strong></li>
                            <li>Tipo: <t t-out="object.document_type_id.name or ''"/></li>
                            <li>Monto: <t t-out="format_amount(object.total_amount, object.currency_id) or ''"/></li>
                        </ul>
                        El documento est√° listo para ser validado.
                    </p>
                </div>
            </field>
        </record>

        <record id="message_case_validated" model="mail.template">
            <field name="name">Certificaci√≥n: Caso Validado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_case"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> <strong>Documento validado correctamente</strong>
                        <br/><br/>
                        El DTE cumple con los requisitos del SII:
                        <ul>
                            <li>Estructura XML v√°lida</li>
                            <li>Firma digital verificada</li>
                            <li>Montos calculados correctamente</li>
                        </ul>
                    </p>
                </div>
            </field>
        </record>

        <record id="message_case_validation_errors" model="mail.template">
            <field name="name">Certificaci√≥n: Errores de Validaci√≥n</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_case"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #dc3545;">‚úó</span> <strong>Errores de validaci√≥n encontrados</strong>
                        <br/><br/>
                        <strong>Errores:</strong>
                        <ul t-if="ctx.get('validation_messages')">
                            <t t-foreach="ctx.get('validation_messages', [])" t-as="message">
                                <li style="color: #dc3545;"><t t-out="message or ''"/></li>
                            </t>
                        </ul>
                        Por favor, corrija los errores antes de continuar.
                    </p>
                </div>
            </field>
        </record>

        <!-- ============================================ -->
        <!-- Templates para Cliente                      -->
        <!-- ============================================ -->

        <record id="message_certificate_validated" model="mail.template">
            <field name="name">Certificaci√≥n: Certificado Validado</field>
            <field name="model_id" ref="model_l10n_cl_edi_certification_client"/>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <span style="color: #28a745;">‚úì</span> <strong>Certificado digital validado correctamente</strong>
                        <br/><br/>
                        <ul>
                            <li>Archivo: <t t-out="object.certificate_filename or ''"/></li>
                            <li>Cliente: <t t-out="object.partner_id.name or ''"/></li>
                            <li>RUT: <t t-out="object.rut or ''"/></li>
                        </ul>
                        El certificado y la contrase√±a son v√°lidos y pueden ser utilizados para firmar documentos.
                    </p>
                </div>
            </field>
        </record>

    </data>
</odoo>
